---
layout: single

title: "CRAM" # The title (ON THE PAGE)
lead: | # The lead below the title (ON THE PAGE)
    Challenge Response Authentication Mechanism

description: | # SEO Description of the page (Shows in google and atsign.dev search)
    Definition of CRAM (challenge response authentication mechanism)

draft: false # Change this to "true" to hide the page
toc: true # Change this to "true" to show the table of contents
weight: 207 # For single pages, lower is first.
---

## Definition

CRAM is a term you may have heard of when reading about the @platform. CRAM stands for challenge response authentication mechanism. It is an algorithm/mechanism used in cryptography commonly used for authentication in protocols.

## @platform

You use your CRAM secret to activate your @ sign and authenticate into your (secondary server)[/docs/atplatform/secondary-server]
secondary server for the first time. Once authenticated, you may add, update, delete, and lookup keys in your own secondary server.

When users get their [@sign](/docs/reference/atsign) from {{< a target="_blank" href="https://atsign.com/" >}}atsign.com{{< /a >}},
they receive their CRAM secret in the form of a QR code. A CRAM secret is just a long string of randomly generated characters.

Retrieving the CRAM secret from the QR code can sometimes be cumbersome for both the developers and the app user.
Atsign provides a REST API for retrieving the user's CRAM secret. Your app should make one POST request to send the verification email to
the user where the user will get a OTP (one-time password) which is four characters long.
Then, a second POST request should be made with the correct string of four characters to receive the CRAM secret.

Since the CRAM secret was generated and given by Atsign, that would be like Atsign generating your password for you. To opposite this,
@platform's SDKs and authentication services (such as at_onboarding_flutter) make it easy to generate a `.atKeys` file for subsequent logins
to your secondary. This `.atKeys` file is generated by your device and contains the necessary keys to encrypt/decrypt data in your secondary
server and the secondary server of other @ signs. The `.atKeys` file is closely related to PKAM which you can read more about
[here](/docs/reference/pkam).

## @protocol

In the [@protocol](/docs/atplatform/specification), CRAM is a verb.

The cram verb is used to boostrap authenticate one's own self as an owner of a Secondary Server.
It is intended to be used once until a set of PKI keys are cut on the owner's mobile device and from then on we use the pkam verb.

The following regex represents the syntax of the cram verb: `r'^cram:(?<digest>.+$)'`

Learn more about the cram verb
{{< a
    rel="canonical"
    target="\_blank"
    href="https://github.com/atsign-foundation/at_protocol/blob/trunk/specification/at_protocol_specification.md#the-cram-verb"
>}}
    here{{< /a >}}.

## Key Definitions

-   **CRAM**: challenge response authentication mechanism
-   **CRAM Secret**: a long string of characters associated with each @ sign for activation
-   **.atKeys file**: holds encryption keys for PKAM authenticating
-   **OTP**: one-time password

## Related Resources

{{< card/breadcrumb href="/docs/atplatform/specification" first="Protocol Specification" >}}
{{< card/breadcrumb href="/docs/atplatform/secondary-server" first="Secondary Server" >}}
{{< card/breadcrumb href="/docs/reference/encryption" first="Encryption" >}}
{{< card/breadcrumb href="/docs/reference/pkam" first="PKAM" >}}
