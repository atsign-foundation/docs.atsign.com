<!doctype html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script>

  <link rel="stylesheet" href="https://dev3.atsign.wtf/main.c7797c0324048ea0c0b162303c223fc72c1d61018d0ddf025de35682908b260291d28ef72d2bb37749af13412c3b6646e20c1cda8a0dd5f9c48ecc3400ce992e.css" integrity="sha512-x3l8AyQEjqDAsWIwPCI/xywdYQGNDd8CXeNWgpCLJgKR0o73LSuzd0mvE0EsO2ZG4gwc2ooN1fnEjsw0AM6ZLg==" crossorigin="anonymous">
<noscript><style>img.lazyload { display: none; }</style></noscript>
  <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
  <title>Key Basics - atPlatform</title>
<meta name="description" content="Key basics for the atPlatform in Flutter and Dart
">
<link rel="canonical" href="https://dev3.atsign.wtf/sdk/flutter/key_basics/">
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Key Basics">
<meta property="og:description" content="Key basics for the atPlatform in Flutter and Dart
">
<meta property="og:url" content="https://dev3.atsign.wtf/sdk/flutter/key_basics/">
<meta property="og:site_name" content="atPlatform">
<meta property="article:modified_time" content="2022-12-07T21:12:34-05:00">
  
  <meta property="og:image" content="https://dev3.atsign.wtf/logo.png"/>
      <meta property="og:image:alt" content="atPlatform">
    
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="atsigncompany">
<meta name="twitter:creator" content="atsigncompany">
<meta name="twitter:title" content="Key Basics">
<meta name="twitter:description" content="Key basics for the atPlatform in Flutter and Dart
">
<meta name="twitter:image" content="https://dev3.atsign.wtf/logo.png">
    <meta name="twitter:image:alt" content="Key Basics">

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "Person",
        "@id": "https://dev3.atsign.wtf/#/schema/person/1",
      "name": "",
      "url": "https://dev3.atsign.wtf/",
      "sameAs": [
        ],
      "image": {
          "@type": "ImageObject",
          "@id": "https://dev3.atsign.wtf/#/schema/image/1",
          "url": "https://dev3.atsign.wtf/\u003cnil\u003e",
          "width":  null ,
          "height":  null ,
          "caption": ""
        }
      },
    {
      "@type": "WebSite",
      "@id": "https://dev3.atsign.wtf/#/schema/website/1",
      "url": "https://dev3.atsign.wtf/",
      "name": "atPlatform",
      "description": "The atPlatform is the fastest and easiest way to develop peer-to-peer, end-to-end encrypted apps.\n",
      "publisher": {
          "@id": "https://dev3.atsign.wtf/#/schema/person/1"
        }
      },
    {
      "@type": "WebPage",
      "@id": "https://dev3.atsign.wtf/sdk/flutter/key_basics/",
      "url": "https://dev3.atsign.wtf/sdk/flutter/key_basics/",
      "name": "Key Basics",
      "description": "Key basics for the atPlatform in Flutter and Dart\n",
      "isPartOf": {
        "@id": "https://dev3.atsign.wtf/#/schema/website/1"
      },
      "about": {
          "@id": "https://dev3.atsign.wtf/#/schema/person/1"
        },
      "datePublished": "0001-01-01T00:00:00CET",
      "dateModified": "2022-12-07T21:12:34CET",
      "breadcrumb": {
        "@id": "https://dev3.atsign.wtf/sdk/flutter/key_basics/#/schema/breadcrumb/1"
      },
      "primaryImageOfPage": {
        "@id": "https://dev3.atsign.wtf/sdk/flutter/key_basics/#/schema/image/2"
      },
      "inLanguage": "",
      "potentialAction": [{
        "@type": "ReadAction", "target": ["https://dev3.atsign.wtf/sdk/flutter/key_basics/"]
      }]
    },
    {
      "@type": "BreadcrumbList",
      "@id": "https://dev3.atsign.wtf/sdk/flutter/key_basics/#/schema/breadcrumb/1",
      "name": "Breadcrumbs",
      "itemListElement": [{
        "@type": "ListItem",
        "position":  1 ,
        "item": {
          "@type": "WebPage",
          "@id": "https://dev3.atsign.wtf/",
          "url": "https://dev3.atsign.wtf/",
          "name": "Home"
          }
        },{
        "@type": "ListItem",
        "position":  2 ,
        "item": {
          "@type": "WebPage",
          "@id": "https://dev3.atsign.wtf/sdk/",
          "url": "https://dev3.atsign.wtf/sdk/",
          "name": "Sdk"
          }
        },{
        "@type": "ListItem",
        "position":  3 ,
        "item": {
          "@type": "WebPage",
          "@id": "https://dev3.atsign.wtf/sdk/flutter/",
          "url": "https://dev3.atsign.wtf/sdk/flutter/",
          "name": "Flutter"
          }
        },{
        "@type": "ListItem",
        "position":  4 ,
        "item": {
          "@id": "https://dev3.atsign.wtf/sdk/flutter/key_basics/"
          }
        }]
    },

    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "ImageObject",
          "@id": "https://dev3.atsign.wtf/sdk/flutter/key_basics/#/schema/image/2",
          "url": "https://dev3.atsign.wtf/logo.png",
          "contentUrl": "https://dev3.atsign.wtf/logo.png",
          "caption": "Key Basics"
        }
      ]
    }

  ]
}
</script>

  <meta name="theme-color" content="#fff">
<link rel="apple-touch-icon" sizes="180x180" href="https://dev3.atsign.wtf/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://dev3.atsign.wtf/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://dev3.atsign.wtf/favicon-16x16.png">
<link rel="manifest" crossorigin="use-credentials" href="https://dev3.atsign.wtf/site.webmanifest">

</head>
  <body class="sdk single">
    <header class="navbar navbar-expand-lg navbar-light doks-navbar">
  <nav class="container-fluid" aria-label="Main navigation">
    <a class="navbar-brand p-0 me-auto" href="https://dev3.atsign.wtf/" aria-label="atPlatform">
      
      
        <img class="toggle-light" src="https://dev3.atsign.wtf/img/branding/dark/lockup-dark.png" width="320em">
      

      
      
        <img class="toggle-dark" src="https://dev3.atsign.wtf/img/branding/light/lockup-light.png" width="320em">
      
    </a>

    <div class="offcanvas offcanvas-end border-0 py-lg-1" tabindex="-1" id="offcanvasDoks" data-bs-backdrop="true" aria-labelledby="offcanvasDoksLabel">
      <div class="offcanvas-header d-lg-none">
        
      
        <img class="toggle-light" src="https://dev3.atsign.wtf/img/branding/dark/lockup-dark.png" width="320em">
      

      
      
        <img class="toggle-dark" src="https://dev3.atsign.wtf/img/branding/light/lockup-light.png" width="320em">
      
        <button type="button" class="btn-close text-reset me-2" data-bs-dismiss="offcanvas" aria-label="Close main menu"></button>
      </div>
      <div class="offcanvas-body px-4">
        <h3 class="h6 text-uppercase mb-3 d-lg-none">Quick Links</h3>
        <ul class="nav flex-column flex-lg-row ms-md-n3">
  
      <li class="nav-item">
        <a class="nav-link ps-0 py-1" href="https://dev3.atsign.wtf/start/">Get Started</a>
      </li>
    
  
      <li class="nav-item">
        <a class="nav-link ps-0 py-1" href="https://my.atsign.com/go">Get an atSign</a>
      </li>
    
  
      <li class="nav-item">
        <a class="nav-link ps-0 py-1" href="https://github.com/atsign-foundation">GitHub</a>
      </li>
    
  
      <li class="nav-item">
        <a class="nav-link ps-0 py-1" href="https://atsign.com">atsign.com</a>
      </li>
    
  
      <li class="nav-item">
        <a class="nav-link ps-0 py-1" href="https://github.com/atsign-foundation/docs.atsign.com/issues/new/choose">Open Issue</a>
      </li>
    
  </ul>
        <hr class="text-black-50 my-4 d-lg-none">
        <h3 class="h6 text-uppercase mb-3 d-lg-none">Navigate</h3>
        <span class="d-lg-none">
          
<ul class="list-unstyled collapsible-sidebar">
  
    
    <li class="mb-1">
      <button class="btn btn-toggle default-text align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#section-e0c4332e8c13be976552a059f106354f" aria-expanded="false">
        Get Started
      </button>
      <div class="collapse" id="section-e0c4332e8c13be976552a059f106354f">
        <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
          
            
              
                
                <li><a class="docs-link rounded" href="https://dev3.atsign.wtf/start/flutter/">Flutter</a></li>
              
            
          
            
              
                
                <li><a class="docs-link rounded" href="https://dev3.atsign.wtf/start/java/">Java</a></li>
              
            
          
            
              
                
                <li><a class="docs-link rounded" href="https://dev3.atsign.wtf/start/iot/">IoT</a></li>
              
            
          
        </ul>
      </div>
    </li>
  
    
    <li class="mb-1">
      <button class="btn btn-toggle default-text align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#section-130ddfce9c28453883ccfe2da8b6d5ac" aria-expanded="false">
        Tutorials
      </button>
      <div class="collapse" id="section-130ddfce9c28453883ccfe2da8b6d5ac">
        <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
          
            
              
              
              
              
              <li><a class="docs-link rounded" href="https://dev3.atsign.wtf/tutorials/atmosphere-pro/1-introduction/">atmosphere pro</a></li>
            
          
            
              
              
              
              
              <li><a class="docs-link rounded" href="https://dev3.atsign.wtf/tutorials/at-dude/_8_send_dude_srcreen/">atDude Tutorial</a></li>
            
          
            
              
              
              
              
              <li><a class="docs-link rounded" href="https://dev3.atsign.wtf/tutorials/sshnp/1-prerequisites/">Ssh! No Ports</a></li>
            
          
            
              
                
                <li class="my-1 ms-3">
                  <button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#section-5a5c507983026cf2af9f40acb713f707" aria-expanded="false">
                    at_demos
                  </button>
                  <div class="collapse" id="section-5a5c507983026cf2af9f40acb713f707">
                    <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                      
                    </ul>
                  </div>
                </li>
              
            
          
            
              
                
                <li class="my-1 ms-3">
                  <button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#section-76633bb1ac6de866df853afb3570dcd5" aria-expanded="false">
                    dess
                  </button>
                  <div class="collapse" id="section-76633bb1ac6de866df853afb3570dcd5">
                    <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                      
                        
                          
                          
                          
                          
                          <li><a class="docs-link rounded" href="https://dev3.atsign.wtf/tutorials/dess/aws/1-introduction/">Setup dess on AWS</a></li>
                        
                      
                        
                          
                          
                          
                          
                          <li><a class="docs-link rounded" href="https://dev3.atsign.wtf/tutorials/dess/gcp/1-introduction/">Setup dess on GCP</a></li>
                        
                      
                        
                          
                          
                          
                          
                          <li><a class="docs-link rounded" href="https://dev3.atsign.wtf/tutorials/dess/rpi/1-introduction/">Setup dess on a Raspberry Pi</a></li>
                        
                      
                    </ul>
                  </div>
                </li>
              
            
          
        </ul>
      </div>
    </li>
  
    
    <li class="mb-1">
      <button class="btn btn-toggle default-text align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#section-e0d05f991f966012c2faab6947c0f48e" aria-expanded="true">
        SDK Reference
      </button>
      <div class="collapse show" id="section-e0d05f991f966012c2faab6947c0f48e">
        <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
          
            
              
              
              
              
              <li><a class="docs-link rounded active" href="https://dev3.atsign.wtf/sdk/flutter/introduction/">Flutter</a></li>
            
          
            
              
              
              
              
              <li><a class="docs-link rounded" href="https://dev3.atsign.wtf/sdk/java/introduction/">Java</a></li>
            
          
        </ul>
      </div>
    </li>
  
    
    <li class="mb-1">
      <button class="btn btn-toggle default-text align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#section-f1cfbb26098a251a8c16653a09a31da9" aria-expanded="false">
        The atPlatform
      </button>
      <div class="collapse" id="section-f1cfbb26098a251a8c16653a09a31da9">
        <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
          
            
              
                
                <li><a class="docs-link rounded" href="https://dev3.atsign.wtf/atplatform/atplatformoverview/">Overview</a></li>
              
            
          
            
              
                
                <li><a class="docs-link rounded" href="https://dev3.atsign.wtf/atplatform/architecture/">Architecture</a></li>
              
            
          
            
              
                
                <li><a class="docs-link rounded" href="https://dev3.atsign.wtf/atplatform/specification/">Protocol Specification</a></li>
              
            
          
            
              
                
                <li><a class="docs-link rounded" href="https://dev3.atsign.wtf/atplatform/rootserver/">atDirectory</a></li>
              
            
          
            
              
                
                <li><a class="docs-link rounded" href="https://dev3.atsign.wtf/atplatform/secondaryserver/">Secondary Server</a></li>
              
            
          
        </ul>
      </div>
    </li>
  
    
    <li class="mb-1">
      <button class="btn btn-toggle default-text align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#section-63d5049791d9d79d86e9a108b0a999ca" aria-expanded="false">
        Reference
      </button>
      <div class="collapse" id="section-63d5049791d9d79d86e9a108b0a999ca">
        <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
          
            
              
                
                <li><a class="docs-link rounded" href="https://dev3.atsign.wtf/reference/atsign/">atSign</a></li>
              
            
          
            
              
                
                <li><a class="docs-link rounded" href="https://dev3.atsign.wtf/reference/pricing-and-costs/">Pricing / Costs</a></li>
              
            
          
            
              
                
                <li><a class="docs-link rounded" href="https://dev3.atsign.wtf/reference/encryption/">Encryption</a></li>
              
            
          
            
              
                
                <li><a class="docs-link rounded" href="https://dev3.atsign.wtf/reference/privacy/">Privacy</a></li>
              
            
          
            
              
                
                <li><a class="docs-link rounded" href="https://dev3.atsign.wtf/reference/polymorphism/">Polymorphism</a></li>
              
            
          
            
              
                
                <li><a class="docs-link rounded" href="https://dev3.atsign.wtf/reference/public-private-keys/">Public and Private Keys</a></li>
              
            
          
            
              
                
                <li><a class="docs-link rounded" href="https://dev3.atsign.wtf/reference/self-encryption-key/">Self-Encryption Key</a></li>
              
            
          
            
              
                
                <li><a class="docs-link rounded" href="https://dev3.atsign.wtf/reference/cram/">CRAM</a></li>
              
            
          
            
              
                
                <li><a class="docs-link rounded" href="https://dev3.atsign.wtf/reference/pkam/">PKAM</a></li>
              
            
          
            
              
                
                <li><a class="docs-link rounded" href="https://dev3.atsign.wtf/reference/namespace/">Namespace</a></li>
              
            
          
            
              
                
                <li><a class="docs-link rounded" href="https://dev3.atsign.wtf/reference/synchronization/">Synchronization</a></li>
              
            
          
            
              
                
                <li><a class="docs-link rounded" href="https://dev3.atsign.wtf/reference/notification/">Notification</a></li>
              
            
          
        </ul>
      </div>
    </li>
  
    
    <li class="mb-1">
      <button class="btn btn-toggle default-text align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#section-c20ef24abeeca4e301dcb6590a9fa683" aria-expanded="false">
        Contribute to the atPlatform
      </button>
      <div class="collapse" id="section-c20ef24abeeca4e301dcb6590a9fa683">
        <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
          
            
              
              
              
              
              <li><a class="docs-link rounded" href="https://dev3.atsign.wtf/contribute/atmosphere-pro/1-introduction/">Atmosphere Pro</a></li>
            
          
            
              
                
                <li class="my-1 ms-3">
                  <button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#section-9cacfb761116331ea9cdd8841bd77804" aria-expanded="false">
                    Contribute to this site
                  </button>
                  <div class="collapse" id="section-9cacfb761116331ea9cdd8841bd77804">
                    <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                      
                        
                          
                          
                          
                          
                          <li><a class="docs-link rounded" href="https://dev3.atsign.wtf/contribute/this-site/shortcodes/button/">Shortcodes Tutorial</a></li>
                        
                      
                        
                          
                            
                            <li><a class="docs-link rounded" href="https://dev3.atsign.wtf/contribute/this-site/style-guide/">Style Guide</a></li>
                          
                        
                      
                    </ul>
                  </div>
                </li>
              
            
          
        </ul>
      </div>
    </li>
  
</ul>

        </span>
      </div>
    </div>

    <div class="flex-grow-1"></div>

    <button id="mode" class="btn py-2 order-md-1 text-body" type="button" aria-label="Toggle user interface mode">
      <span class="toggle-dark text-primary"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></span>
      <span class="toggle-light text-highlight"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></span>
    </button>
    <button class="btn btn-menu order-md-1 d-lg-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasDoks" aria-controls="offcanvasDoks" aria-label="Open main menu">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
    </button>
  </nav>
</header>

<nav class="doks-subnavbar py-2 sticky-lg-top" aria-label="Secondary navigation">
  <div class="container-fluid d-flex align-items-center">

    <form class="doks-search position-relative flex-grow-1 me-auto">
      <input id="search" class="form-control is-search" type="search" placeholder="Search docs..." aria-label="Search docs..." autocomplete="off">
      <div id="suggestions" class="shadow bg-white rounded d-none"></div>
    </form>

    </div>
</nav>


    <div class="wrap container-fluid" role="document">
      <div class="content">
          
  
  
  <link rel="stylesheet" href="https://dev3.atsign.wtf/codelab.css">
  <div class="codelab">
  <div class="codelab-nav-buttons">
    <a class="codelab-arrow-back text-decoration-none" href="https://dev3.atsign.wtf/sdk/" id="arrow-back">← Exit Codelab</a>
  </div>
  









































<div class="codelab-timer">
  
  ⏱
  
  10 mins remaining
  
</div>

  <div class="codelab-title">
    
    <h1>Flutter</h1>
    
    
    <p class="lead">Learn how the Flutter SDK works</p>
    
  </div>
  
<div class="codelab-drawer">
  <h3 class="codelab-nav-title">Steps <span>in this module</span></h3>
  <div class="codelab-steps">
    <ol>
          
      <li  completed>
        <a href="https://dev3.atsign.wtf/sdk/flutter/introduction/">
          <span class="codelab-step">
            <span>Introduction</span>
          </span>
        </a>
      </li>
        
      <li  completed>
        <a href="https://dev3.atsign.wtf/sdk/flutter/at_client_manager/">
          <span class="codelab-step">
            <span>AtClientManager</span>
          </span>
        </a>
      </li>
        
      <li  completed>
        <a href="https://dev3.atsign.wtf/sdk/flutter/at_client_preference/">
          <span class="codelab-step">
            <span>AtClientPreference</span>
          </span>
        </a>
      </li>
        
      <li  completed>
        <a href="https://dev3.atsign.wtf/sdk/flutter/onboarding/">
          <span class="codelab-step">
            <span>Onboarding</span>
          </span>
        </a>
      </li>
          
      <li selected >
        <a href="https://dev3.atsign.wtf/sdk/flutter/key_basics/">
          <span class="codelab-step">
            <span>Key Basics</span>
          </span>
        </a>
      </li>
      
    </ol>
  </div>
</div>

  <div class="codelab-body">
    <div class="codelab-steps">
      <div class="codelab-step">
        <div class="codelab-instructions">
          <h2 class="codelab-step-title">Key Basics</h2>
          <h3 id="overview">Overview <a href="#overview" class="anchor" aria-hidden="true">#</a></h3>
<p>To store data, atPlatform utilizes a straightforward key-value method. A key serves as a unique identifier in key-value pairs.</p>
<p><strong>AtKey Structure:</strong></p>
<table>
<thead>
<tr>
<th>Attributes</th>
<th>Description</th>
<th>Return Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>Unique Identifier for the data</td>
<td>String</td>
</tr>
<tr>
<td>sharedWith</td>
<td>The atSign to share with</td>
<td>String</td>
</tr>
<tr>
<td>sharedBy</td>
<td>The atSign that is sharing</td>
<td>String</td>
</tr>
<tr>
<td>namespace</td>
<td>The namespace of the app</td>
<td>String</td>
</tr>
<tr>
<td>metadata</td>
<td></td>
<td>Metadata</td>
</tr>
<tr>
<td>isRef</td>
<td></td>
<td>Bool</td>
</tr>
</tbody>
</table>
<h3 id="metadata">Metadata <a href="#metadata" class="anchor" aria-hidden="true">#</a></h3>
<p>Metadata In AtKey allows you to add more aspects of AtKey. If you want your data to live for a given period of time, or if you want it to be born/deleted after a set amount of time, metaData can help you with that.</p>
<p><strong>Metadata Structure:</strong></p>
<table>
<thead>
<tr>
<th>Attributes</th>
<th>Capabilities</th>
<th>Return Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>ttl</td>
<td></td>
<td>int</td>
</tr>
<tr>
<td>ttb</td>
<td></td>
<td>int</td>
</tr>
<tr>
<td>ttr</td>
<td></td>
<td>int</td>
</tr>
<tr>
<td>ccd</td>
<td></td>
<td>bool</td>
</tr>
<tr>
<td>availableAt</td>
<td></td>
<td>DateTime</td>
</tr>
<tr>
<td>expiresAt</td>
<td></td>
<td>DateTime</td>
</tr>
<tr>
<td>refreshAt</td>
<td></td>
<td>DateTime</td>
</tr>
<tr>
<td>createdAt</td>
<td></td>
<td>DateTime</td>
</tr>
<tr>
<td>updatedAt</td>
<td></td>
<td>DateTime</td>
</tr>
<tr>
<td>dataSignature</td>
<td></td>
<td>String</td>
</tr>
<tr>
<td>sharedKeyStatus</td>
<td></td>
<td>bool</td>
</tr>
<tr>
<td>isPublic</td>
<td></td>
<td>bool</td>
</tr>
<tr>
<td>isHidden</td>
<td></td>
<td>bool</td>
</tr>
<tr>
<td>namespaceAware</td>
<td></td>
<td>bool</td>
</tr>
<tr>
<td>isBinary</td>
<td></td>
<td>bool</td>
</tr>
<tr>
<td>isEncrypted</td>
<td></td>
<td>bool</td>
</tr>
<tr>
<td>isCached</td>
<td></td>
<td>bool</td>
</tr>
</tbody>
</table>
<p><strong>Key Creation rules</strong></p>
<p>A key in atProtocol has the structure described below.</p>
<p><code>&lt;Key Visibility&gt;|&lt;sharedWith&gt;:&lt;entity&gt;.&lt;namespace&gt;@&lt;sharedBy/owner&gt;</code></p>
<p><a name="keyrules">A key in atProtocol should adhere to following rules:</a></p>
<ol>
<li>Length of a key should not be more than 240 characters (Limited by the current impl of the secondary. Not a protocol limitation)</li>
<li>Max of fifty five 7-bit characters for the atSign</li>
<li>Allowed characters in an entity are: [\w._,-’”<emoji list>] <TO DO : Sitaram></li>
<li>Namespace is mandatory in the current implementation of the protocol</li>
<li>If cached then the owner of the key should not be same as current atSign</li>
<li>sharedWith and sharedBy/owner cannot be same for a shared key</li>
<li>sharedWith and sharedBy/owner should be same for a self key (Private, Hidden (_), Just self)</li>
<li>Reserved keys in protocol, private keys and hidden keys cannot be notified
Ex: notify:_secret@jagan:sitaram
9.Protocol prevents creation of a key with a owner/sharedBy using an atSign that’s not owned by the current user.</li>
<li>Key cannot be a reserved key.</li>
</ol>
<p>List of reserved keys:</p>
<ul>
<li>privatekey:at_pkam_privatekey</li>
<li>privatekey:at_pkam_publickey</li>
<li>public:publickey</li>
<li>privatekey:privatekey</li>
<li>shared_key</li>
<li>privatekey:self_encryption_key</li>
<li>signing_privatekey</li>
<li>public:signing_publickey</li>
<li>privatekey:at_secret</li>
<li>privatekey:at_secret_deleted</li>
</ul>
<p><strong>atPlatform CRUD operations</strong></p>
<p><strong>Create/Update Data</strong>
atPlatform SDK exposes two methods to create the data. They are:</p>
<ul>
<li>put</li>
<li>putMeta</li>
</ul>
<p><strong><em>put</em></strong></p>
<p>Update’s value of key is if it is already present. Otherwise creates a new key.</p>
<p>To share a key to another atSign, use AtKey.shared() factory method or populate AtKey.sharedWith with the atSign to whom the data has to be shared. Further, notifies the sharedWith atSign that a key has been created.</p>
<p><strong>Signature</strong></p>
<p><code>Future&lt;bool&gt; put(AtKey key, dynamic value);</code></p>
<p>Accepts an instance of AtKey and value and stores it in the local storage(local secondary) has a key-value pair.</p>
<p>AtKey represents the key against which the value will be stored. It further describes to whom the data is shared and metadata of the key. <a href="#keyrules">key rules</a></p>
<p>The value can be either a textual information or a binary data (e.g. Images, Files etc ). Returns a boolean value that represents the status of the put method. Returns ‘TRUE’ when put is completed successfully, else returns false.</p>
<p>Throws <strong>AtClientException</strong> with an error code and error description that describes that cause of the exception.</p>
<p><strong><em>putMeta</em></strong></p>
<p>Updates the metadata of the key.</p>
<p><em>Signature</em></p>
<p><code>Future&lt;bool&gt; putMeta(AtKey key);</code></p>
<p>Accepts an Instance of AtKey. The Metadata is encapsulated in the AtKey. Set the new/updated metadata to [Atkey.Metadata].</p>
<p>Returns a boolean value that represents the status of the putMeta method. Returns ‘TRUE’ when putMeta is completed successfully, else returns false.</p>
<p>Throws <strong>AtClientException</strong> with an error code and error description that describes that cause of the exception.</p>
<p><strong>Read Data</strong></p>
<p><strong><em>get</em></strong></p>
<p>Get the value of the key from the user&rsquo;s cloud secondary.
Signature
<code>Future&lt;AtValue&gt; get (AtKey key);</code></p>
<p>Accepts an Instance of AtKey. The Metadata is encapsulated in the AtKey. Fetch both the value and metadata of the key.</p>
<p>Returns a boolean value that represents the status of the ‘get’ method. Returns ‘TRUE’ when ‘get’ is completed successfully, else returns false.</p>
<p>Throws <strong>AtClientException</strong> with an error code and error description that describes that cause of the exception.</p>
<p><strong><em>getMeta</em></strong></p>
<p>Gets the metadata of the key.</p>
<p><strong>Signature</strong></p>
<p><code>Future &lt;bool&gt; getMeta(AtKey key);</code></p>
<p>Accepts an Instance of AtKey. The Metadata is encapsulated in the AtKey. Gets the metadata of the key.</p>
<p>Returns a boolean value that represents the status of the putMeta method. Returns ‘TRUE’ when getMeta is completed successfully, else returns false.</p>
<p>Throws <em>AtClientException</em> with an error code and error description that describes that cause of the exception.</p>
<p><strong>Delete Data</strong></p>
<p>Deletes the key.</p>
<p><strong>Signature</strong>
<code>Future&lt;bool&gt; delete(AtKey key);</code></p>
<p>Accepts an Instance of AtKey. Deletes the key from the storage. If the key is shared with another atSign, notifies the other atSign on the deletion of the key.</p>
<p>Returns a boolean value that represents the status of the delete method. Returns ‘TRUE’ when delete is completed successfully, else returns false.</p>
<p>Throws <strong>AtClientException</strong> with an error code and error description that describes that cause of the exception.</p>
<p><strong>List of Keys</strong></p>
<p><strong><em>getKeys</em></strong></p>
<p>Get all the keys stored in the user&rsquo;s secondary in string format.</p>
<p><em>Signature</em></p>
<p><code>Future &lt;&lt;List&lt;String&gt;&gt; getKeys({String? regex, String? sharedBy, String? sharedWith});</code></p>
<p>If regex is specified only matching keys are returned, giving you the flexibility to use different regexes for different types of data.</p>
<p><strong><em>getAtKeys</em></strong></p>
<p>Get all the keys stored in the user&rsquo;s secondary in [AtKey] format.</p>
<p><strong>Signature</strong></p>
<p><code>Future &lt;&lt;List&lt;AtKey&gt;&gt; getAtKeys({String? regex, String? sharedBy, String? sharedWith});</code></p>
<p>If regex is specified only matching keys are returned, giving you the flexibility to use different regexes for different types of data.</p>
<p><strong>Notification</strong></p>
<p><strong>atProtocol data visibility</strong></p>
<p>The atProtocol saves data created in a key-value pair format. atProtocol lets you create data with three levels of visibility. They are public, shared and self data.
In the atProtocol a piece of data is identified as a certain data type based on the key structure. In the SDK, AtKey exposes abstractions to create keys for the various data types. Below sections describe this in detail.</p>
<p><strong>Public data</strong></p>
<p>Public data can be looked up without authentication. I.e. if @bob wants to lookup public data in the secondary server of @alice, @bob does not need to prove to @alice that he is @bob to see the data publicly shared by @alice. Public view of the @alice’s data will be the same for any user on the atPlatform. I.e. if @jane and @john look up some public data from @alice, it will be exactly the same as what @bob sees.</p>
<p>Good examples of public data in the real world are “first name” and the “last name”. We often don’t mind sharing our name with people, even random strangers.</p>
<p><strong>Signing of public data</strong>
Public data is signed with the “private keys” of the user. Which means when @alice looks up @bob’s public data, @alice knows for sure that the data is indeed from @bob.</p>
<p><strong>Creating a public key</strong></p>
<pre tabindex="0"><code>var publicKey = AtKey.public(&#39;phone&#39;, namespace: &#39;wavi&#39;)
                .build();
</code></pre><p><strong>Persisting public data</strong></p>
<pre tabindex="0"><code>final atClientManager = await AtClientManager.getInstance()
   .setCurrentAtSign(‘@alice, &#39;me&#39;, AtClientPreference());
var atClient = atClientManager.atClient;
var phoneKey = AtKey.public(&#39;phone&#39;, namespace: &#39;wavi&#39;)
             .build();;
var value = &#39;+1 100 200 300&#39;;
var putResult = await atClient.put(phoneKey, value);
</code></pre><p><strong>Shared data</strong></p>
<p>Shared data does exactly what it says it does! It is created in order to share it with other people. These are the people we typically know and trust. When @bob shares his phone number with @alice, then only @alice can see that piece of data.
Good examples of shared data in the real world are “phone number” and “email”. We only share these details with the people we know and trust.</p>
<p><strong>Encryption of shared data</strong></p>
<p>When @bob shares data to @alice, @bob generates a shared key for @alice and encrypts the data with the shared key. Further, the shared key is encrypted with the @alice public key. So the data shared is cryptographically secure.</p>
<p><strong>Creating a shared key</strong></p>
<pre tabindex="0"><code>var sharedKey = AtKey.shared(&#39;phone&#39;, namespace: &#39;wavi&#39;)
                ..sharedWith(&#39;@bob&#39;).build();
</code></pre><p><strong>Persisting shared data</strong></p>
<pre tabindex="0"><code>final atClientManager = await AtClientManager.getInstance()
   .setCurrentAtSign(‘@alice, &#39;me&#39;, AtClientPreference());
var atClient = atClientManager.atClient;
var phoneKey = AtKey.shared(&#39;phone&#39;, namespace: &#39;wavi&#39;)
             ..sharedWith(&#39;@bob&#39;)
             .build();
var value = &#39;+1 100 200 300&#39;;
var putResult = await atClient.put(phoneKey, value);
</code></pre><p><strong>Self data</strong>
Self data is created for self. If @bob creates data for self, only @bob and no one else can see the data.</p>
<p>Good examples of self data are “passwords” and “financial data”. We keep these details to ourselves.</p>
<p><strong>Encryption of self data</strong></p>
<p>When @bob creates data for self it is encrypted using @bob’s self encryption key.</p>
<p><strong>Creating a self key</strong></p>
<pre tabindex="0"><code>var selfKey = AtKey.self(&#39;phone&#39;, namespace: &#39;wavi&#39;)
              .build();
</code></pre><p><strong>Persisting self data</strong></p>
<pre tabindex="0"><code>final atClientManager = await AtClientManager.getInstance()
   .setCurrentAtSign(‘@alice, &#39;me&#39;, AtClientPreference());
var atClient = atClientManager.atClient;
var phoneKey = AtKey.self(&#39;phone&#39;, namespace: &#39;wavi&#39;)
             .build();
var value = &#39;+1 100 200 300&#39;;
var putResult = await atClient.put(phoneKey, value);
</code></pre><Sita lets add list of reserved keys>
<Request your feedback on what to keep and what to throw away>
<pre><code>   All of the above rules are implemented and exposed using the validate() method on AtKey. These rules are enforced during creation of the data.
</code></pre>
<p><strong>Key attributes of atProtocol data</strong></p>
<p><strong><em>TTL - Time to live</em></strong></p>
<p>TTL (Time To Live) is the duration of time for which the key will be available. TTL is expressed in milliseconds. Adding TTL during the key creation results in the time at which the key expires.</p>
<pre tabindex="0"><code>// Below key expires in 1 minute

var phoneKey = (AtKey.shared(&#39;phone&#39;, namespace: &#39;wavi&#39;)
               ..sharedWith(&#39;bob&#39;)
               ..timeToLive(60000))
               .build();
var value = &#39;+1 100 200 300&#39;;
var putResult = await atClient.put(phoneKey, value);
</code></pre><p><strong>Scan/List behavior with TTL</strong>
A key whose ttl has been set will be listed until a background job that runs at frequent time intervals deletes all the expired keys</p>
<p><strong>Lookup/Get behavior with TTL</strong>
As long as the key has not expired, a “lookup” of the key returns the value that was set originally. After the key expiry, ‘null’ is returned when the key is looked up for a value.</p>
<p><strong><em>TTB - Time to birth</em></strong></p>
<p>TTB (Time To Birth) is the span of time within which the key’s value is not available. TTB is expressed in milliseconds. Adding TTB during the key creation results in the time at which the key&rsquo;s value is available.</p>
<pre tabindex="0"><code>// Below key is available after 1 minute

var phoneKey = (AtKey.shared(&#39;phone&#39;, namespace: &#39;wavi&#39;)
               ..sharedWith(&#39;bob&#39;)
               ..timeToBirth(60000))
               .build();
var value = &#39;+1 100 200 300&#39;;
var putResult = await atClient.put(phoneKey, value);
</code></pre><p><strong>Scan/List behavior with TTB</strong></p>
<p>A key whose ttb has been set will be listed.</p>
<p><strong>Lookup/Get behavior with TTB</strong></p>
<p>Until the key’s TTB is met, a “lookup” of the key returns ‘null’. After which the original value of the key is returned.</p>
<p><strong><em>TTR - Time to refresh</em></strong></p>
<p>TTR (Time To Refresh) is the span of time that represents the time interval at which the cached key will be refreshed with a new value(if the original key&rsquo;s value is updated). TTR is expressed in seconds. Further, TTR can also be set to &lsquo;-1&rsquo; which represents the value of the original key will not be updated and therefore the cached key need not be refreshed.</p>
<p><strong>Cacheability</strong></p>
<p>All of the data created resides in the secondary server of an atSign. The owner of an atSign can choose to allow the public and the shared data to be cached in the another atSign</p>
<pre tabindex="0"><code>// Below key refreshes everyday
// TTR accepts time units in seconds

var phoneKey = (AtKey.shared(&#39;phone&#39;, namespace: &#39;wavi&#39;)
               ..sharedWith(&#39;bob&#39;)
               ..cache(86400, true))
               .build();
var value = &#39;+1 100 200 300&#39;;
var putResult = await atClient.put(phoneKey, value);
</code></pre><p><strong>Scan/List behavior with TTR</strong></p>
<p>All the keys with TTR and the cached keys that are created as a result of TTR are listed.</p>
<p><strong>Lookup/Get behavior with TTR</strong></p>
<p>During lookup of a key, fetches for availability of the corresponding cached key. If a cached key is available, the value is returned. If cached is not available, fetches the value from the original key.</p>
<p><strong>Update behavior with TTR</strong>
Only the owner of the key reserves the right to update the value. Updating the cached key’s value is prohibited.</p>
<p><strong>Propagation of an update to the cached key</strong></p>
<p>When an original key is updated by the creator, the ones who have cached it need to update the cached copy too. This can happen in two ways:</p>
<ol>
<li>The Auto-Notify notifies the updated value to another atSign, thereby the cached key’s value is updated.</li>
<li>The refresh job in the secondary server</li>
</ol>
<p><strong><em>CCD - Cascade delete</em></strong></p>
<p>CCD (Cascade delete) compliments the TTR functionality by allowing the owner of the key to decide if the cached key has to be deleted upon the deletion of the original key. CCD accepts a boolean value(either true (or) false). When set to true, upon deletion of the original key, the cached key is also deleted. Setting it to false results in the cached key remaining, even after the original key is deleted.</p>

        </div>
      </div>
    </div>
    








































  
  








<div class="codelab-controls">
  <div class="fabs">
    
    <a href="https://dev3.atsign.wtf/sdk/flutter/onboarding/" id="previous-step" title="Previous step">Back</a>
    
    <div class="spacer"></div>
    
    <a href="https://dev3.atsign.wtf/sdk/flutter/" id="done" title="Codelab complete">Done</a>
    
  </div>
</div>

  </div>
</div>

      </div>
    </div>
    
    
    <footer class="footer text-muted">
  <div class="container-fluid">
    <div class="row">
      <div class="col-lg-8 order-last order-lg-first">
        <ul class="list-inline">
          <li class="list-inline-item"></li>
        </ul>
      </div>
      <div class="col-lg-8 order-first order-lg-last text-lg-end">
        <ul class="list-inline">
          </ul>
      </div>
    </div>
  </div>
</footer>
    <script src="https://dev3.atsign.wtf/js/bootstrap.js" defer></script>
  <script src="https://dev3.atsign.wtf/js/highlight.js" defer></script>
  <script src="https://dev3.atsign.wtf/main.js" defer></script>
  <script src="https://dev3.atsign.wtf/index.js" defer></script>
  
  </body>
</html>